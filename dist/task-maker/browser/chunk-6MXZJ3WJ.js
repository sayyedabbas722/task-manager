import{a as L,b as m,c as O,d as V,e as j,f as u,g as B,h as R,i as q,j as G,k as x,l as H,m as J,n as W,o as P,p as U,q as z}from"./chunk-SDAOKWTX.js";import{B as I,C as f,Ga as M,Ia as T,Ka as _,Na as A,Pa as D,Q as d,Qa as y,R as F,W as C,Y as l,aa as i,ba as o,ca as v,ea as k,la as n,oa as w,pa as b,qa as N,ta as E,va as p,x as c}from"./chunk-F3XBP6Z3.js";var g=(s,t)=>({"is-invalid":s,"is-valid":t}),Y=()=>({standalone:!0});function Z(s,t){s&1&&(i(0,"div",27),n(1," Successfully added task into the queue. "),o())}function $(s,t){s&1&&(i(0,"div",27),n(1," Successfully updated the exisiting. "),o())}var S=(()=>{let t=class t{constructor(a){this.route=a,this.editId="",this.editIdIndex=null,this.dropdownList=[{item_id:1,item_text:"Raj"},{item_id:2,item_text:"Amit"},{item_id:3,item_text:"Rahul"}],this.selectedItems=[],this.dropdownSettings={},this.showSuccessBanner=!1}ngOnInit(){this.route.paramMap.subscribe(a=>{this.editId=a.get("id")}),this.dropdownSettings={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0},this.taskForm=new j({name:new u("",{validators:[m.required,m.pattern("[0-9]*")]}),desc:new u("",{validators:[m.required]}),priority:new u("Normal",{validators:[m.required]}),status:new u("",{validators:[m.required]})}),this.preFillIfEdit()}preFillIfEdit(){this.editId!=""&&JSON.parse(localStorage.getItem("tasks")).forEach((r,e)=>{r.id==this.editId&&(this.editIdIndex=e,this.taskForm.get("name").setValue(r.id),this.taskForm.get("desc").setValue(r.desc),this.taskForm.get("priority").setValue(r.priority),this.taskForm.get("status").setValue(r.status),this.selectedItems=r.assign)})}get name(){return this.taskForm.get("name")}get desc(){return this.taskForm.get("desc")}get priority(){return this.taskForm.get("priority")}get status(){return this.taskForm.get("status")}onTaskFormSubmit(){let a={id:this.taskForm.get("name").value,desc:this.taskForm.get("desc").value,priority:this.taskForm.get("priority").value,assign:this.selectedItems,status:this.taskForm.get("status").value,timestamp:Date.now()};this.storeTasks(a)&&(this.taskForm.reset(),this.selectedItems=[])}storeTasks(a){let r=JSON.parse(localStorage.getItem("tasks"));return this.editIdIndex==null?r.push(a):r[this.editIdIndex]=a,localStorage.setItem("tasks",JSON.stringify(r)),this.showSuccessBanner=!0,!0}};t.\u0275fac=function(r){return new(r||t)(F(A))},t.\u0275cmp=I({type:t,selectors:[["app-add-task"]],decls:47,vars:26,consts:[[1,"container","mt-5"],[1,"row","mb-3"],[1,"col-12"],[1,"text-center"],[1,"row","d-flex","justify-content-center"],[1,"col-md-4","col-sm-12"],["class","alert alert-success mb-3","role","alert",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","formControlName","name","name","name","id","name","aria-describedby","emailHelpId",1,"form-control",3,"ngClass"],["for","desc",1,"form-label"],["formControlName","desc","name","desc","id","desc","rows","3",1,"form-control",3,"ngClass"],[3,"ngModelChange","placeholder","settings","data","ngModel","ngModelOptions"],["for","priority",1,"form-label"],["formControlName","priority","name","priority","id","priority",1,"form-select",3,"ngClass"],["value","Normal"],["value","High"],["value","Low"],["for","status",1,"form-label"],["formControlName","status","name","status","id","status",1,"form-select",3,"ngClass"],["value","Todo"],["value","In-progress"],["value","Completed"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-success",3,"disabled"],["routerLink","/",1,"btn","btn-primary"],["role","alert",1,"alert","alert-success","mb-3"]],template:function(r,e){r&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),n(4," Create New Task "),o()()(),i(5,"div",4)(6,"div",5),C(7,Z,2,0,"div",6)(8,$,2,0,"div",6),i(9,"form",7),k("ngSubmit",function(){return e.onTaskFormSubmit()}),i(10,"div",8)(11,"label",9),n(12,"Task Number"),o(),v(13,"input",10),o(),i(14,"div",8)(15,"label",11),n(16,"Description"),o(),v(17,"textarea",12),o(),i(18,"div",8)(19,"label"),n(20,"Assign To"),o(),i(21,"ng-multiselect-dropdown",13),N("ngModelChange",function(h){return b(e.selectedItems,h)||(e.selectedItems=h),h}),o()(),i(22,"div",8)(23,"label",14),n(24,"Priority"),o(),i(25,"select",15)(26,"option",16),n(27,"Normal"),o(),i(28,"option",17),n(29,"High"),o(),i(30,"option",18),n(31,"Low"),o()()(),i(32,"div",8)(33,"label",19),n(34,"Status"),o(),i(35,"select",20)(36,"option",21),n(37,"Todo"),o(),i(38,"option",22),n(39,"In-progress"),o(),i(40,"option",23),n(41,"Completed"),o()()(),i(42,"div",24)(43,"button",25),n(44," Submit "),o(),i(45,"a",26),n(46," Cancel "),o()()()()()()),r&2&&(d(7),l("ngIf",e.editIdIndex==null&&e.showSuccessBanner),d(),l("ngIf",e.editIdIndex!=null&&e.showSuccessBanner),d(),l("formGroup",e.taskForm),d(4),l("ngClass",p(13,g,e.name.invalid&&(e.name.dirty||e.name.touched),e.name.valid&&(e.name.dirty||e.name.touched))),d(4),l("ngClass",p(16,g,e.desc.invalid&&(e.desc.dirty||e.desc.touched),e.desc.valid&&(e.desc.dirty||e.desc.touched))),d(4),l("placeholder","")("settings",e.dropdownSettings)("data",e.dropdownList),w("ngModel",e.selectedItems),l("ngModelOptions",E(19,Y)),d(4),l("ngClass",p(20,g,e.priority.invalid&&(e.priority.dirty||e.priority.touched),e.priority.valid&&(e.priority.dirty||e.priority.touched))),d(10),l("ngClass",p(23,g,e.status.invalid&&(e.status.dirty||e.status.touched),e.status.valid&&(e.status.dirty||e.status.touched))),d(8),l("disabled",!e.taskForm.valid))},dependencies:[M,T,R,H,J,L,x,O,V,B,D,q,G,U]});let s=t;return s})();var ee=[{path:"",component:S},{path:":id",component:S}],Q=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=f({type:t}),t.\u0275inj=c({imports:[y.forChild(ee),y]});let s=t;return s})();var ve=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=f({type:t}),t.\u0275inj=c({imports:[_,W,Q,P,z.forRoot()]});let s=t;return s})();export{ve as AddTaskModule};
